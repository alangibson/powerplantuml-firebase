<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
  <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">

  <!-- Firebase init -->
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>

  <style>
  .plantuml-editor {
    font-family: monospace;
    height: 100%;
  }
  .plantuml-editor .input-group__input {
    padding: 4!important;
    height: 100%;
  }
  .input-group--text-field.input-group--textarea textarea {
    font-size: 12px;
    width: 85ch;
  }
  .input-group--text-field.input-group--textarea {
    font-size: 12px;
    width: 85ch;
  }
  </style>
</head>

<body>

  <div id="app">
    <v-app>
      <v-content style="">
        <v-container fluid fill-height style="height: 98vh;">
          <v-layout row>
            <v-flex>
              <v-dialog
                  persistent
                  max-width="290"
                  :value="!is_logged_in">
                <v-card>
                  <v-card-title>
                    <span class="headline">Welcome To PowerPlantUML</span>
                  </v-card-title>
                  <v-card-text>
                    You need to log in to use PowerPlantUML.
                    <v-btn @click="logInGoogle">Log In with Google</v-btn>
                    <v-text-field label="Email" v-model="login_email"></v-text-field>
                    <v-text-field label="Password" v-model="login_password"></v-text-field>
                    <v-btn @click="logInEmail">Log In</v-btn>

                  </v-card-text>
                </v-card>
              </v-dialog>
            </v-flex>
          </v-layout>
          <v-layout row>
            <v-flex style="flex-grow: 0;">
              <v-text-field class="plantuml-editor"
                            textarea
                            style=""
                            v-model="$store.state.document"
                            @keyup="keyWatcher">
              </v-text-field>
            </v-flex>
            <v-flex style="overflow: scroll;">
              <object :data="$store.state.image_url" type="image/svg+xml">
              </object>
            </v-flex>
          </v-layout>
          <v-footer>
            <a :href="$store.state.image_url">Link</a>
          </v-footer>
        </v-container>
      </v-content>
    </v-app>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vuex"></script>
  <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/shvl@1.3.1/dist/shvl.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/deepmerge@2.1.0/dist/umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuex-persistedstate@2.5.2/dist/vuex-persistedstate.umd.js"></script>
  <script src="rawdeflate.js"></script>
  <script src="app.js"></script>
</body>

</html>